(this.webpackJsonpui=this.webpackJsonpui||[]).push([[0],{268:function(e,t,a){e.exports=a(455)},273:function(e,t,a){},274:function(e,t,a){},455:function(e,t,a){"use strict";a.r(t);var n=a(0),o=a.n(n),r=a(49),c=a.n(r),l=(a(273),a(52)),s=(a(274),a(275),a(63)),i=a(15),d=a.n(i),m=a(21),u=a(41),p=a(17),h=a(256),g=a(474),f=a(464),E=a(456),y=function(e){return{type:"LOGIN_SUCCESS",payload:e}},v=function(e){return{type:"NOTIF_ON",payload:e}},b=function(){return{type:"NOTIF_OFF"}},x="http://localhost:2000",k=Object(m.b)((function(e){return{User:e.Auth}}),{LoginFail:function(e){return{type:"LOGIN_FAILED",payload:e}},LoginSuccess:y,GiveNotif:v,RemoveNotif:b})((function(e){var t=Object(n.useState)({username:"",password:"",confirmpassword:""}),a=Object(l.a)(t,2),r=a[0],c=a[1],i=Object(n.useState)(!1),m=Object(l.a)(i,2),y=m[0],v=m[1],b=Object(n.useState)(""),k=Object(l.a)(b,2),w=k[0],C=k[1],S=function(e){c(Object(p.a)({},r,Object(u.a)({},e.target.name,e.target.value)))},N=function(){""===r.username?C("username belum diisi"):""===r.password?C("password belum diisi"):r.password!==r.confirmpassword?C("confirm password gagal"):d.a.post("".concat(x,"/users"),{username:r.username,password:r.password,role:"user"}).then((function(t){e.GiveNotif("Create account succesfully"),setTimeout((function(){e.RemoveNotif()}),2e3),d.a.get("".concat(x,"/users?username=").concat(r.username,"&password=").concat(r.password)).then((function(t){t.data.length?(e.LoginSuccess(Object(p.a)({},t.data[0],{errmes:"berhasil"})),localStorage.setItem("iduser",t.data[0].id)):e.LoginFail("Username atau password salah")})).catch((function(e){console.log(e)}))})).catch((function(e){console.log(e)}))},I=function(){""===r.username||""===r.password?e.LoginFail("Username atau password tidak terisi"):d.a.get("".concat(x,"/users?username=").concat(r.username,"&password=").concat(r.password)).then((function(t){t.data.length?(e.LoginSuccess(Object(p.a)({},t.data[0],{errmes:"berhasil"})),localStorage.setItem("iduser",t.data[0].id)):e.LoginFail("Username atau password salah")})).catch((function(e){console.log(e)}))};return e.User.isLogin?o.a.createElement(s.a,{to:"/"}):o.a.createElement("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",backgroundSize:"cover",width:"100hw",height:"calc(100vh - 56px)",overflow:"hidden",position:"relative"}},o.a.createElement("div",{style:{width:"100%",height:"100%",position:"relative",zIndex:"0"}},o.a.createElement(h.a,{src:"https://react.semantic-ui.com/images/leaves/5.png",className:"central",style:{width:150,height:"auto",top:"23%",left:"37%",transform:"translate(-50%,-50%) rotate(50deg)"}}),o.a.createElement("div",{style:{background:"rgba(0, 0, 0, .0)",width:"100%",height:"100%",position:"absolute"}})),o.a.createElement(g.a,{onKeyPress:function(e){"Enter"===e.key&&(y?N():I())},style:{padding:"15px",position:"absolute",top:"45%",transform:"translate(0,-50%)"}},o.a.createElement(g.a.Content,null,o.a.createElement(g.a.Header,null,y?"Register":"Log In"),o.a.createElement(g.a.Meta,null),o.a.createElement(g.a.Description,null),o.a.createElement("div",{style:{marginTop:"15px"}},o.a.createElement("p",{style:{marginBottom:"0px"}},"Username"),o.a.createElement(f.a,{name:"username",onChange:S,value:r.username,style:{display:"inline"},size:"small",icon:"user",placeholder:"username..."})),o.a.createElement("div",{style:{marginTop:"15px"}},o.a.createElement("p",{style:{marginBottom:"0px"}},"Password"),o.a.createElement(f.a,{name:"password",onChange:S,value:r.password,size:"small",icon:"lock",placeholder:"password...",type:"password"})),o.a.createElement("div",{className:y?"login-reg-confirm-pass":"login-reg-confirm-pass gone"},o.a.createElement("p",{style:{marginBottom:"0px"}},"Confirm password"),o.a.createElement(f.a,{name:"confirmpassword",onChange:S,value:r.confirmpassword,size:"small",icon:"lock",placeholder:"confirm password...",type:"password"}))),o.a.createElement(g.a.Content,{style:{position:"relative",overflow:"hidden"},extra:!0},e.User.errmes&&!y?o.a.createElement("p",{style:{color:"red"}},e.User.errmes):null,w&&y?o.a.createElement("p",{style:{color:"red"}},w):null),o.a.createElement(E.a,{className:y?"login-button outline-sign outline-sign-hvr":"bg-sign bg-sign-hvr login-button",onClick:y?function(){v(!1)}:I,primary:!0},y?"Back to login":"Login"),o.a.createElement(E.a,{style:{marginTop:"5px"},className:y?"bg-sign-sec-hvr":"outline-sign-sec-hvr",onClick:y?N:function(){v(!0)},content:y?"Create new account":"Register"})))})),w=a(29),C=a(30),S=a(32),N=a(31),I=a(33),O=a(53),j=a(94),P=a(476),T=a(465),A=a(258),M=a(165),z=a(28),R=function(e){function t(){var e,a;Object(w.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(S.a)(this,(e=Object(N.a)(t)).call.apply(e,[this].concat(r)))).state={products:[],keyword:"",redirect:!1},a.handleKeyPress=function(e){"Enter"===e.key&&a.setState({redirect:!0})},a.renderProducts=function(){return a.state.products.map((function(e,t){return o.a.createElement(g.a,{key:e.id,className:"product-card card product-outline-sign-hvr"},o.a.createElement("div",{className:"",style:{height:"150px",overflow:"hidden"}},o.a.createElement(h.a,{style:{height:"100%",textAlign:"center",position:"relative"},src:e.image,wrapped:!0,ui:!1})),o.a.createElement(g.a.Content,null,o.a.createElement(g.a.Header,null,e.name),o.a.createElement(g.a.Meta,null,o.a.createElement(O.a,{style:{margin:"10px 3px 0 0",verticalAlign:".5px"},color:"yellow",name:"star"}),e.rating,o.a.createElement(j.a,{style:{marginLeft:"10px"}},"Sold (",e.sold,")")),o.a.createElement(g.a.Meta,{style:{marginTop:"10px"}},o.a.createElement(P.a,{as:"h5",size:"small",className:"date",style:{color:"orange",fontWeight:"bold"}},"Rp.",e.harga,".00"))),o.a.createElement(g.a.Content,{extra:!0},e.kategori.nama),o.a.createElement(z.b,{className:"layer",to:"/productdetails/".concat(e.id)}))}))},a}return Object(I.a)(t,e),Object(C.a)(t,[{key:"componentDidMount",value:function(){var e=this;d.a.get("http://localhost:2000/products?_expand=kategori").then((function(t){e.setState({products:t.data})})).catch((function(e){console.log(e)}))}},{key:"render",value:function(){var e=this;return o.a.createElement(T.a,{style:{position:"relative"}},o.a.createElement(A.a,{style:{height:"calc(100vh - 56px)",overflow:"hidden"},columns:2},o.a.createElement(A.a.Row,{stretched:!0},o.a.createElement(A.a.Column,null,o.a.createElement(O.a,{style:{fontSize:"30vw",color:"rgb(57, 162, 109)",position:"absolute",top:"50%",left:"35%",transform:"translate(-50%,-50%)"},name:"podcast",size:"massive"}),o.a.createElement(P.a,{style:{margin:"0",background:"white",padding:"6px",borderRadius:"0px",left:"45%",top:"47%",fontSize:"2vw",color:"rgb(80,80,80)",transform:"translate(-0%,-50%) rotate(-0deg)",letterSpacing:"9px",whiteSpace:"nowrap"},className:"central"},"E-Commerce")),o.a.createElement(A.a.Column,null,o.a.createElement(M.a,{style:{boxShadow:"unset",border:"0px"}},o.a.createElement(P.a,{className:"central",style:{top:"65%",left:"50%",width:"85%",fontWeight:"lighter",fontSize:"24px",color:"rgb(50,50,50)",letterSpacing:"3px"}},"Phasellus eu sem at odio euismod venenatis eu nec neque")),o.a.createElement(M.a,{style:{boxShadow:"unset",border:"0px"}},o.a.createElement(P.a,{as:"h3",className:"central",style:{width:"25vw",top:"10%",color:"rgb(80,80,80)",fontWeight:"100"}},"What are you looking for..."),o.a.createElement(f.a,{className:"central main-search",action:{icon:"search",className:"outline-sign bg-sign bg-sign-hvr",style:{color:"white"}},size:"huge",placeholder:"Search...",style:{top:"calc(10% + 35px)",width:"25vw"},onChange:function(t){e.setState({keyword:t.target.value})},onKeyPress:this.handleKeyPress})),o.a.createElement(M.a,{style:{boxShadow:"unset",border:"0px"}},o.a.createElement(h.a,{src:"https://react.semantic-ui.com/images/leaves/4.png",className:"central",style:{width:150,height:150,top:"15%",left:"38%"}}),o.a.createElement(h.a,{src:"https://react.semantic-ui.com/images/leaves/1.png",className:"central",style:{width:150,height:150,top:"5%",left:"60%"}}))))),o.a.createElement(P.a,{style:{marginTop:"50px",fontSize:"27px",color:"rgb(50,50,50)"}},"Categories"),o.a.createElement(A.a,{columns:3},o.a.createElement(A.a.Column,{style:{padding:"15px 30px 15px 10px"}},o.a.createElement(h.a,{className:"home-ribbon",fluid:!0,label:{as:"a",content:"Bag",icon:"spoon",ribbon:!0},src:"https://cdn.shopify.com/s/files/1/1535/5361/products/Good_Quality_Men_s_Messenger_Bags_Genuine_Leather_Travel_Bag_Luxury_Outdoor_Camping_Style_Bags_9042_17_703d2524-7f7a-4a76-877e-aa9e48a31ad8_1024x1024.jpg?v=1571609258"})),o.a.createElement(A.a.Column,{style:{padding:"15px 30px"}},o.a.createElement(h.a,{className:"home-ribbon",fluid:!0,label:{as:"a",content:"Fashion",icon:"hotel",ribbon:!0},src:"https://manofmany.com/wp-content/uploads/2018/04/Business-Casual-Dress-Code-Guide-for-Men.jpg"})),o.a.createElement(A.a.Column,{style:{padding:"15px 10px 15px 30px"}},o.a.createElement(h.a,{className:"home-ribbon",fluid:!0,label:{as:"a",content:"Food",icon:"spoon",ribbon:!0},src:"https://www.japan-guide.com/thumb/interest_food.jpg"}))),o.a.createElement(P.a,{style:{marginTop:"50px",fontSize:"27px",color:"rgb(50,50,50)"}},"Our best products"),o.a.createElement("div",{className:"home-product-list"},this.renderProducts()),this.state.redirect?o.a.createElement(s.a,{to:"/search/".concat(this.state.keyword)}):null)}}]),t}(n.Component),D=a(37),U=a.n(D),_=function(e){function t(){var e,a;Object(w.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(S.a)(this,(e=Object(N.a)(t)).call.apply(e,[this].concat(r)))).state={products:[],keyword:"",header:"All Product"},a.onSearch=function(e){a.setState({header:"Results"}),d.a.get("".concat(x,"/products?_expand=kategori&&name_like=").concat(e)).then((function(e){a.setState({products:e.data})})).catch((function(e){console.log("error"),console.log(e)}))},a.onSearchBtn=function(){d.a.get("".concat(x,"/products?_expand=kategori&&name_like=").concat(a.state.keyword)).then((function(e){a.setState({products:e.data})})).catch((function(e){console.log(e)}))},a.onCategoryClick=function(e){1===e?a.setState({header:"Fashion"}):2===e?a.setState({header:"Bags"}):3===e&&a.setState({header:"Food"}),d.a.get("".concat(x,"/products?_expand=kategori&&kategoriId=").concat(e)).then((function(e){a.setState({products:e.data})})).catch((function(e){console.log("error")}))},a.handleSearch=function(e){a.setState({keyword:e.target.value})},a.handleKeyPress=function(e){"Enter"===e.key&&a.onSearch()},a.renderProducts=function(){return a.state.products.map((function(e,t){return o.a.createElement(g.a,{key:e.id,className:"product-card card product-outline-sign-hvr"},o.a.createElement("div",{className:"",style:{height:"150px",overflow:"hidden"}},o.a.createElement(h.a,{style:{height:"100%",textAlign:"center",position:"relative"},src:e.image,wrapped:!0,ui:!1})),o.a.createElement(g.a.Content,null,o.a.createElement(g.a.Header,{style:{color:"rgba(0,0,0,.7)"}},e.name),o.a.createElement("h5",{as:"h5",size:"small",className:"date color-sign-sec",style:{fontWeight:"bold",margin:"4px 0 0"}},"Rp",U()(e.harga).format(0),".00"),o.a.createElement(g.a.Meta,null,o.a.createElement(O.a,{style:{margin:"4px 3px 0 0",verticalAlign:".5px"},color:"yellow",name:"star"}),e.rating),o.a.createElement(g.a.Meta,{style:{marginTop:"4px"}},o.a.createElement(j.a,{style:{marginLeft:"0px"}},"Sold ",e.sold))),o.a.createElement(g.a.Content,{extra:!0},"Fashion"===e.kategori.nama?o.a.createElement(O.a,{name:"student"}):"Bag"===e.kategori.nama?o.a.createElement(O.a,{name:"briefcase"}):"Food"===e.kategori.nama?o.a.createElement(O.a,{name:"food"}):null,e.kategori.nama),o.a.createElement(z.b,{className:"layer",to:"/productdetails/".concat(e.id)}))}))},a}return Object(I.a)(t,e),Object(C.a)(t,[{key:"componentDidMount",value:function(){var e=this,t=this.props.match.params.keyword;t?this.onSearch(t):d.a.get("".concat(x,"/products?_expand=kategori")).then((function(t){e.setState({products:t.data})})).catch((function(e){console.log(e)}))}},{key:"render",value:function(){var e=this;return o.a.createElement(T.a,{style:{position:"relative"}},o.a.createElement(P.a,{style:{marginTop:"50px",fontSize:"27px",color:"rgb(50,50,50)"}},"Our best products"),o.a.createElement(P.a,{as:"h3",style:{width:"25vw",color:"rgb(80,80,80)",fontWeight:"100"}},"What are you looking for..."),o.a.createElement(f.a,{className:"page-search",icon:"search",size:"huge",placeholder:"Search...",style:{width:"25vw"},onChange:function(t){e.onSearch(t.target.value),e.handleSearch(t)},value:this.state.keyword,onKeyPress:this.handleKeyPress}),o.a.createElement("div",{style:{marginTop:"14px"}},o.a.createElement(j.a,{onClick:function(){e.onCategoryClick(1)},className:"bg-sign bg-sign-hvr",style:{fontSize:"21px",cursor:"pointer"}},o.a.createElement(O.a,{name:"student"})," Fashion"),o.a.createElement(j.a,{onClick:function(){e.onCategoryClick(2)},className:"bg-sign bg-sign-hvr",style:{fontSize:"21px",cursor:"pointer"}},o.a.createElement(O.a,{name:"briefcase"})," Bags"),o.a.createElement(j.a,{onClick:function(){e.onCategoryClick(3)},className:"bg-sign bg-sign-hvr",style:{fontSize:"21px",cursor:"pointer"}},o.a.createElement(O.a,{name:"food"})," Food")),o.a.createElement(P.a,{as:"h3",style:{width:"25vw",color:"rgb(80,80,80)",fontWeight:"500",fontSize:"27px"}},this.state.header),o.a.createElement("div",{className:"home-product-list"},this.renderProducts()))}}]),t}(n.Component),G=a(257),L=function(e){function t(){var e,a;Object(w.a)(this,t);for(var n=arguments.length,o=new Array(n),r=0;r<n;r++)o[r]=arguments[r];return(a=Object(S.a)(this,(e=Object(N.a)(t)).call.apply(e,[this].concat(o)))).state={activeItem:"E-Commerce",redirect:"",keyword:""},a.handleItemClick=function(e,t){var n=t.name;return a.setState({activeItem:n,redirect:n})},a.handleKeyword=function(e){a.setState({keyword:e.target.value})},a.handleKeyPress=function(e){"Enter"===e.key&&a.setState({redirect:"search"})},a.onLoginClick=function(){a.setState({redirect:!0,activeItem:""})},a.onLogoutClick=function(){console.log("logout klik"),a.props.LogOut(),localStorage.removeItem("iduser"),a.props.GiveNotif("Logout Berhasil"),setTimeout((function(){a.props.Modal.isOpen&&a.props.RemoveNotif()}),2e3),a.setState({activeItem:"logout",redirect:"logout"})},a}return Object(I.a)(t,e),Object(C.a)(t,[{key:"render",value:function(){var e=this.state.activeItem;return o.a.createElement("div",{style:{position:"fixed",top:"0",left:"0",zIndex:"2",width:"100%",background:"white"}},o.a.createElement(G.a,{className:"header-menu",pointing:!0,secondary:!0,color:"green"},o.a.createElement(G.a.Item,{name:"home",active:"home"===e,onClick:this.handleItemClick,style:{color:"rgb(50,50,50)",fontSize:"18px",fontWeight:"400"}},o.a.createElement(O.a,{className:"color-sign",style:{fontSize:"30px"},name:"podcast"}),"E-Commerce"),o.a.createElement(G.a.Item,null,o.a.createElement(f.a,{className:"page-search",icon:"search",size:"small",placeholder:"Search...",style:{width:"25vw",marginBottom:"2px"},onChange:this.handleKeyword,value:this.state.keyword,onKeyPress:this.handleKeyPress})),o.a.createElement(G.a.Menu,{position:"right"},"user"===this.props.User.role?o.a.createElement(G.a.Item,{icon:"cart",name:"cart",active:"cart"===e,onClick:this.handleItemClick}):null,"admin"===this.props.User.role?o.a.createElement(G.a.Item,{name:"manage transactions",active:"manage transactions"===e,onClick:this.handleItemClick}):null,"admin"===this.props.User.role?o.a.createElement(G.a.Item,{name:"manage products",active:"manage products"===e,onClick:this.handleItemClick}):null,this.props.User.isLogin?o.a.createElement(G.a.Item,{style:{verticalAlign:"text-bottom"}},o.a.createElement("img",{alt:this.props.User.role,style:{borderRadius:"20px",marginRight:"5px",width:"27px",height:"auto"},src:"https://react.semantic-ui.com/images/avatar/small/joe.jpg"}),o.a.createElement("p",{style:{verticalAlign:"text-bottom",margin:"0"}},this.props.User.username),"admin"===this.props.User.role?o.a.createElement(j.a,{color:"orange"},this.props.User.role):null):null,this.props.User.isLogin?o.a.createElement(G.a.Item,{name:"logout",active:"logout"===e,onClick:this.onLogoutClick}):o.a.createElement(G.a.Item,{name:"login",active:"login"===e,onClick:this.handleItemClick}))),"home"===this.state.redirect?o.a.createElement(s.a,{to:"/"}):null,"manage transactions"===this.state.redirect?o.a.createElement(s.a,{to:"/managetransactions"}):null,"manage products"===this.state.redirect?o.a.createElement(s.a,{to:"/manageproducts"}):null,"cart"===this.state.redirect?o.a.createElement(s.a,{to:"/cart"}):null,"login"===this.state.redirect?o.a.createElement(s.a,{to:"/login"}):null,"logout"===this.state.redirect?o.a.createElement(s.a,{to:"/"}):null,"search"===this.state.redirect?o.a.createElement(s.a,{to:"/search/".concat(this.state.keyword)}):null)}}]),t}(n.Component),B=Object(m.b)((function(e){return{User:e.Auth,Modal:e.Modal}}),{GiveNotif:v,RemoveNotif:b,LogOut:function(){return{type:"LOGOUT"}}})(L),F=a(472),q=a(471),W=Object(m.b)((function(e){return{User:e.Auth}}),{GiveNotif:v,RemoveNotif:b})((function(e){var t=Object(n.useState)(),a=Object(l.a)(t,2),r=a[0],c=a[1],s=Object(n.useState)({productId:e.match.params.productid,qty:"",msg:""}),i=Object(l.a)(s,2),m=i[0],h=i[1];Object(n.useEffect)((function(){d.a.get("".concat(x,"/products/").concat(e.match.params.productid)).then((function(e){c(e.data)})).catch((function(e){console.log(e)}))}),[]);var g=function(e){"qty"===e.target.name?""===e.target.value||"0"===e.target.value?h(Object(p.a)({},m,Object(u.a)({},e.target.name,""))):h(Object(p.a)({},m,Object(u.a)({},e.target.name,parseInt(e.target.value)))):h(Object(p.a)({},m,Object(u.a)({},e.target.name,e.target.value)))};return r?o.a.createElement("div",{style:{marginTop:"90px"}},o.a.createElement(F.a.Group,{divided:!0},o.a.createElement(F.a,{style:{padding:"0 30px"}},o.a.createElement(F.a.Image,{className:"product-detail-img",style:{width:"550px",height:"350px",margin:"0 20px 0 0",padding:"10px",border:"0px solid black",overflow:"hidden"},src:r.image}),o.a.createElement(F.a.Content,{style:{maxWidth:"500px"}},o.a.createElement(F.a.Header,{style:{fontSize:"24px"},as:"h1"},r.name),o.a.createElement(F.a.Meta,null),o.a.createElement(F.a.Description,null,r.deskripsi),o.a.createElement(F.a.Header,{style:{margin:"7px 0",fontWeight:"700"},className:"color-sign-sec",as:"h5"},"Rp",U()(r.harga).format(0)),o.a.createElement(F.a.Extra,null,o.a.createElement(j.a,null,"Stok ",r.stok)),o.a.createElement(F.a.Extra,null,o.a.createElement(E.a,{as:"div",labelPosition:"left"},o.a.createElement(j.a,{className:"color-sign-hvr",as:"a",basic:!0,pointing:"right"},"2,048"),o.a.createElement(E.a,{className:"color-sign-hvr",icon:!0},o.a.createElement(O.a,{name:"heart"}),"Like"))),o.a.createElement(F.a.Extra,null,o.a.createElement(q.a,null,o.a.createElement(q.a.Group,null,o.a.createElement(q.a.Input,{style:{width:"80px"},value:m.qty,name:"qty",onChange:g,fluid:!0,type:"number",label:"Quantity",placeholder:"0"})),o.a.createElement(q.a.TextArea,{value:m.msg,name:"msg",onChange:g,style:{width:"350px"},label:"Message to seller",placeholder:"Size or color..."}))),o.a.createElement(F.a.Extra,{className:"product-detail-des"},"user"===e.User.role?o.a.createElement(E.a,{onClick:function(){d.a.get("".concat(x,"/transactions?userId=").concat(e.User.id,"&&status=oncart")).then((function(t){t.data.length?d.a.get("".concat(x,"/transactiondetails?transactionId=").concat(t.data[0].id,"&&productId=").concat(e.match.params.productid)).then((function(a){a.data.length?d.a.put("".concat(x,"/transactiondetails/").concat(a.data[0].id),Object(p.a)({},a.data[0],{qty:parseInt(a.data[0].qty)+m.qty,msg:m.msg})).then((function(t){e.GiveNotif("Product is added to the cart"),setTimeout((function(){e.RemoveNotif()}),2e3)})):d.a.post("".concat(x,"/transactiondetails"),Object(p.a)({transactionId:t.data[0].id},m)).then((function(t){e.GiveNotif("Product is added to the cart"),setTimeout((function(){e.RemoveNotif()}),2e3)}))})).catch((function(e){})):d.a.post("".concat(x,"/transactions"),{status:"oncart",userId:e.User.id}).then((function(t){d.a.get("".concat(x,"/transactiondetails?transactionId=").concat(t.data.id,"&&productId=").concat(e.match.params.productid)).then((function(a){a.data.length?d.a.put("".concat(x,"/transactiondetails/").concat(a.data[0].id),Object(p.a)({},a.data[0],{qty:a.data[0].qty+m.qty})).then((function(e){console.log(e.data)})).catch((function(e){console.log(e)})):d.a.post("".concat(x,"/transactiondetails"),Object(p.a)({transactionId:t.data.id},m)).then((function(t){e.GiveNotif("Product is added to the cart"),setTimeout((function(){e.RemoveNotif()}),2e3)})).catch((function(e){console.log(e)}))})).catch((function(e){console.log(e)}))})).catch((function(e){console.log(e)}))})).catch((function(e){console.log(e)}))},className:"bg-sign"},"Add to cart",o.a.createElement(O.a,{name:"right chevron"})):null))))):null})),H=a(468),K=a(469),V=a(478),Q=a(475),J=function(e){function t(){var e,a;Object(w.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(S.a)(this,(e=Object(N.a)(t)).call.apply(e,[this].concat(r)))).state={cartProduct:[],transactionId:"",method:"",vouchers:[],deleteindex:-1,editmsgindex:-1,editmsg:"",checkDetails:{item:0,harga:0},checkout:!1,inputVoucher:"",errvoucher:!1,complete:!1},a.reloadCart=function(){d.a.get("".concat(x,"/transactiondetails?_expand=product&&transactionId=").concat(a.state.transactionId)).then((function(e){a.setState({cartProduct:e.data}),a.setState({checkDetails:{item:0,harga:0}}),e.data.forEach((function(e,t){a.setState({checkDetails:Object(p.a)({},a.state.checkDetails,{item:a.state.checkDetails.item+e.qty,harga:a.state.checkDetails.harga+e.product.harga*e.qty})})}))})).catch((function(e){console.log(e)}))},a.deleteItem=function(e){d.a.delete("".concat(x,"/transactiondetails/").concat(e)).then((function(e){console.log(e.data),a.setState({deleteindex:-1}),a.reloadCart(),a.props.GiveNotif("Items is deleted"),setTimeout((function(){a.props.RemoveNotif(),a.reloadCart()}),2e3)})).catch((function(e){console.log(e)}))},a.onAddQty=function(e,t){var n;console.log("test"),n="add"===e.target.name?1:"sub"===e.target.name?-1:0,d.a.get("".concat(x,"/transactiondetails/").concat(t)).then((function(e){d.a.put("".concat(x,"/transactiondetails/").concat(t),Object(p.a)({},e.data,{qty:e.data.qty+n})).then((function(e){a.reloadCart()})).catch((function(e){console.log(e)}))})).catch((function(e){console.log(e)}))},a.onEditMsg=function(e){""!==a.state.editmsg&&d.a.get("".concat(x,"/transactiondetails/").concat(e)).then((function(t){d.a.put("".concat(x,"/transactiondetails/").concat(e),Object(p.a)({},t.data,{msg:a.state.editmsg})).then((function(e){a.setState({editmsgindex:-1,editmsg:""}),a.reloadCart()})).catch((function(e){console.log(e)}))})).catch((function(e){console.log(e)}))},a.finishPayment=function(e){a.state.cartProduct.forEach((function(e,t){d.a.put("".concat(x,"/transactiondetails/").concat(e.id),Object(p.a)({},e)).then((function(e){console.log(e)})).catch((function(e){console.log(e)}))})),d.a.put("".concat(x,"/transactions/").concat(a.state.transactionId),{status:"onprocess",userId:a.props.User.id,method:e,id:a.state.transactionId}).then((function(e){a.props.GiveNotif("Pembayaran berhasil"),setTimeout((function(){a.props.RemoveNotif(),a.setState({complete:!0})}),2e3)})).catch((function(e){console.log(e)}))},a.handleEdit=function(e){a.setState({editmsgindex:e})},a.voucherCheck=function(){a.state.vouchers.forEach((function(e,t){e.code===a.state.inputVoucher?a.finishPayment("voucher"):a.setState({errvoucher:!0})}))},a.renderVouchers=function(){return a.state.vouchers.map((function(e,t){return o.a.createElement(j.a,{style:{fontSize:"18px",fontWeight:"100",color:"rgb(150,150,150)",display:"block",textAlign:"center",letterSpacing:"-2px",margin:"0 0 14px"},as:"a",tag:!0},e.code)}))},a.renderCartProducts=function(){return a.state.cartProduct.map((function(e,t){return o.a.createElement(M.a,{key:t,className:"cart-product",style:{display:"flex",justifyContent:"space-between"}},o.a.createElement("div",{style:{flex:"0 0 45%"}},o.a.createElement(F.a.Group,null,o.a.createElement(F.a,{style:{display:"flex"}},o.a.createElement(F.a.Image,{style:{width:"45%",margin:"0 20px 0 0"},size:"tiny",src:e.product.image}),o.a.createElement(F.a.Content,null,o.a.createElement(F.a.Header,{as:"a"},e.product.name),t===a.state.editmsgindex?o.a.createElement("div",null,o.a.createElement(H.a,{style:{margin:"7px 0",color:"gray",fontSize:"unset"},onChange:function(e){a.setState({editmsg:e.target.value}),console.log(e.target.value)},onBlur:function(){a.onEditMsg(e.id)},placeholder:e.msg,value:a.state.editmsg}),o.a.createElement("div",null,o.a.createElement("span",{className:"color-sign-sec",onClick:function(){a.onEditMsg(e.id)},style:{cursor:"pointer",textAlign:"left"}},"Ok"))):o.a.createElement("div",null,o.a.createElement(F.a.Meta,{style:{}},e.msg),o.a.createElement("span",{className:"color-sign-sec",onClick:function(){a.handleEdit(t),a.setState({editmsg:e.msg})},style:{cursor:"pointer",textAlign:"left"}},"Edit")))))),o.a.createElement("div",{style:{flex:"0 0 15%"}},o.a.createElement("h4",{className:"color-sign-sec",style:{fontWeight:"bold"}},"Rp",U()(e.product.harga).format(0))),o.a.createElement("div",{style:{flex:"0 0 15%",whiteSpace:"nowrap"}},o.a.createElement("span",{style:{display:"inline-block",marginBottom:"7px"}},o.a.createElement(E.a,{name:"sub",onClick:function(t){a.onAddQty(t,e.id)},style:{padding:"5px 10px"},basic:!0},"-"),o.a.createElement("span",{style:{margin:"0 5px"}},e.qty),o.a.createElement(E.a,{name:"add",onClick:function(t){a.onAddQty(t,e.id)},style:{marginLeft:".25em",padding:"5px 10px"},basic:!0},"+"))),o.a.createElement("div",{style:{flex:"0 0 15%",whiteSpace:"nowrap"}},t===a.state.deleteindex?o.a.createElement("span",{style:{float:"right"}},o.a.createElement(E.a,{onClick:function(){a.deleteItem(e.id)},content:"yes"}),o.a.createElement(E.a,{onClick:function(){a.setState({deleteindex:-1})},content:"no"}),o.a.createElement("p",{style:{textAlign:"center",marginTop:"10px"}},"Are you sure?")):o.a.createElement(E.a,{onClick:function(){a.setState({deleteindex:t})},style:{float:"right"}},o.a.createElement(O.a,{name:"trash alternate outline"}),"Hapus")))}))},a}return Object(I.a)(t,e),Object(C.a)(t,[{key:"componentDidMount",value:function(){var e=this;d.a.get("".concat(x,"/transactions?userId=").concat(this.props.User.id,"&&status=oncart")).then((function(t){e.setState({transactionId:t.data[0].id});d.a.get("".concat(x,"/transactiondetails?_expand=product&&transactionId=").concat(t.data[0].id)).then((function(t){e.setState({cartProduct:t.data}),console.log(t.data),t.data.forEach((function(t,a){e.setState({checkDetails:Object(p.a)({},e.state.checkDetails,{item:e.state.checkDetails.item+t.qty,harga:e.state.checkDetails.harga+t.product.harga*t.qty})}),t.qty}))})).catch((function(e){console.log(e)})).finally((function(){}))})).catch((function(e){console.log(e)})),d.a.get("".concat(x,"/vouchers")).then((function(t){e.setState({vouchers:t.data})})).catch((function(e){console.log(e)}))}},{key:"render",value:function(){var e=this;return"admin"===this.props.User.role?(this.props.GiveNotif("Admin cannot purchase ;)"),setTimeout((function(){e.props.RemoveNotif()}),2e3),o.a.createElement(s.a,{to:"/manageproducts"})):o.a.createElement("div",{style:{padding:"50px 30vw 0 10vw"}},o.a.createElement("div",{className:this.state.checkout?"show gone":"show"},o.a.createElement(M.a,null,o.a.createElement("h2",null,"Cart")),o.a.createElement(M.a,{className:"cart-product",style:{display:"flex",justifyContent:"space-between"}},o.a.createElement("span",{style:{flex:"0 0 45%"}},o.a.createElement("span",null,"Items")),o.a.createElement("div",{style:{flex:"0 0 15%"}},o.a.createElement("p",null,"Harga")),o.a.createElement("div",{style:{flex:"0 0 15%"}},o.a.createElement("p",null,"Jumlah")),o.a.createElement("div",{style:{flex:"0 0 15%"}})),this.renderCartProducts()),o.a.createElement(M.a,{className:this.state.checkout?"show gone":"show vague",style:{position:"fixed",top:"106px",left:"71vw",width:"24vw",margin:"0"},compact:!0},o.a.createElement(K.a,{className:"cart-checkout",horizontal:!0},o.a.createElement(P.a,{as:"h4"},o.a.createElement(O.a,{style:{color:"rgb(57, 162, 109)"},name:"tags"}),"Belanja")),o.a.createElement("p",null,o.a.createElement("span",{style:{color:"rgb(150,150,150)",marginRight:"40px"}},"Item"),o.a.createElement("span",{style:{float:"right"}},this.state.checkDetails.item)),o.a.createElement("p",null,o.a.createElement("span",{style:{color:"rgb(150,150,150)",marginRight:"40px"}},"Total Harga"),o.a.createElement("span",{className:"color-sign-sec",style:{float:"right"}},"Rp",U()(this.state.checkDetails.harga).format(0))),o.a.createElement(E.a,{onClick:function(){e.setState({checkout:!0})},className:"bg-sign bg-sign-hvr",style:{display:"block",width:"100%",marginTop:"0px"}},"Checkout")),o.a.createElement(M.a,{className:this.state.checkout?"show":"show gone",style:{position:"fixed",top:"calc(56px + 3%)",left:"50%",transform:"translate(-50%, 0%)",minWidth:"40vw",fontSize:"18px",transition:"all .5s ease"},compact:!0},o.a.createElement(K.a,{className:"cart-checkout",horizontal:!0,section:!0},o.a.createElement(P.a,{as:"h4"},o.a.createElement(O.a,{style:{color:"rgb(57, 162, 109)"},name:"tags"}),"Payment")),o.a.createElement("p",null,o.a.createElement("span",{style:{color:"rgb(150,150,150)",marginRight:"40px"}},"Total Harga"),o.a.createElement("span",{style:{float:"right"},className:"color-sign-sec"},"Rp",U()(this.state.checkDetails.harga).format(0))),o.a.createElement(K.a,{section:!0}),o.a.createElement(V.a,{renderActiveOnly:!0,style:{color:"rgb(120,120,120)"},panes:[{menuItem:{key:"transfer",icon:"dollar",content:"Transfer"},render:function(){return o.a.createElement(V.a.Pane,null,o.a.createElement(M.a,{style:{lineHeight:"120px"}},"Do your transfer payment here..."),o.a.createElement(K.a,null),o.a.createElement(E.a,{onClick:function(){e.finishPayment("transfer")},className:"bg-sign bg-sign-hvr",style:{fontSize:"18px",width:"100%",marginTop:"14px"}},"Finish"))}},{menuItem:{key:"voucher",icon:"ticket alternate",content:"Voucher"},render:function(){return o.a.createElement(V.a.Pane,null,o.a.createElement("p",null,"Voucher code"),e.renderVouchers(),o.a.createElement(K.a,null),o.a.createElement(f.a,{onChange:function(t){e.setState({inputVoucher:t.target.value})},style:{width:"100%"},placeholder:"Enter your voucher code..."}),e.state.errvoucher?o.a.createElement("p",{style:{color:"red",marginTop:"7px"}},"Code voucher tidak berhasil"):null,o.a.createElement(E.a,{onClick:e.voucherCheck,className:"bg-sign bg-sign-hvr",style:{fontSize:"18px",width:"100%",marginTop:"14px"}},"Submit"))}},{menuItem:o.a.createElement(G.a.Item,{key:"cod"},o.a.createElement(O.a,{name:"money bill alternate"}),"Cash on delivery",o.a.createElement(j.a,null,"new")),render:function(){return o.a.createElement(V.a.Pane,null,o.a.createElement(Q.a,null,o.a.createElement(Q.a.Header,null,"New Method"),o.a.createElement("span",{style:{color:"rgba(0,0,0,.87)"}},"We updated our privacy policy here to better service our customersaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa")),o.a.createElement(E.a,{onClick:function(){e.finishPayment("cod")},className:"bg-sign bg-sign-hvr",style:{fontSize:"18px",width:"100%"}},"Cash on Delivery"))}}]})),this.state.complete?o.a.createElement(s.a,{to:"/"}):null)}}]),t}(n.Component),Y=Object(m.b)((function(e){return{User:e.Auth,Modal:e.Modal}}),{GiveNotif:v,RemoveNotif:b,UpdateItems:function(e){return{type:"ITEMS",payload:e}}})(J),$=function(e){function t(){var e,a;Object(w.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(S.a)(this,(e=Object(N.a)(t)).call.apply(e,[this].concat(r)))).state={transactions:[]},a.renderItems=function(){return a.state.transactions.map((function(e,t){return o.a.createElement(M.a,{key:t,className:"cart-product"},o.a.createElement(P.a,{className:"color-dark",style:{fontSize:"21px"},block:!0},"Transaction ",e.transactionId,o.a.createElement("span",{style:{margin:"0 14px",color:"rgba(0,0,0,.7)",fontSize:"18px",fontWeight:"100"}},e.method),o.a.createElement(j.a,{style:{float:"right",fontSize:"15px",margin:"auto"},className:"completed"===e.status?"color-sign":"color-sign-sec"},o.a.createElement(O.a,{name:"tag"}),e.status)),e.details.map((function(e,t){return o.a.createElement("div",{key:e.id,style:{display:"flex",justifyContent:"space-between",marginBottom:"14px",borderBottom:"1px solid rgb(0,0,0,.15)",paddingBottom:"10px"}},o.a.createElement("div",{style:{flex:"0 0 60%"}},o.a.createElement(F.a.Group,{divided:!0},o.a.createElement(F.a,{style:{padding:"0 0px"}},o.a.createElement(F.a.Image,{style:{width:"250px",height:"auto",margin:"0 0px 0 0",padding:"10px",border:"0px solid black",overflow:"hidden"},src:e.product.image}),o.a.createElement(F.a.Content,null,o.a.createElement(F.a.Header,{style:{color:"rgba(0,0,0,.8)"},as:"a"},e.product.name),o.a.createElement(F.a.Description,{style:{color:"rgba(0,0,0,.6)",marginBottom:"14px"}},e.product.deskripsi),o.a.createElement(F.a.Extra,{style:{width:"70%"}},"Items ",o.a.createElement("span",{style:{color:"rgb(0,0,0,.87)",float:"right"}},"(",e.qty,")")),o.a.createElement(F.a.Extra,{style:{width:"70%"}},"Harga Product ",o.a.createElement("span",{style:{float:"right"},className:"color-sign-sec"},"Rp",U()(e.product.harga).format(0))))))),o.a.createElement("div",{style:{flex:"0 0 20%",alignItems:"center",margin:"auto"}},o.a.createElement(z.b,{to:"productdetails/".concat(e.product.id)},o.a.createElement(E.a,{className:"bg-sign bg-sign-hvr"},"Buy Again"))),o.a.createElement("div",{style:{flex:"0 0 20",alignItems:"center"}}),o.a.createElement(K.a,{section:!0}))})))}))},a}return Object(I.a)(t,e),Object(C.a)(t,[{key:"componentDidMount",value:function(){var e=this;d.a.get("".concat(x,"/transactions?userId=").concat(this.props.User.id,"&&status=onprocess&&status=completed")).then((function(t){t.data.reverse();var a=[];t.data.forEach((function(t,n){d.a.get("".concat(x,"/transactiondetails?_expand=product&&transactionId=").concat(t.id)).then((function(o){a[n]=o.data,a[n]={details:o.data,transactionId:t.id,method:t.method,status:t.status},e.setState({transactions:a})})).catch((function(e){console.log(e)})).finally((function(){})),console.log(a)}))})).catch((function(e){console.log(e)}))}},{key:"render",value:function(){var e=this;return"admin"===this.props.User.role?(this.props.GiveNotif("Admin cannot purchase ;)"),setTimeout((function(){e.props.RemoveNotif()}),2e3),o.a.createElement(s.a,{to:"/manageproducts"})):o.a.createElement("div",{style:{padding:"50px 10vw 0 10vw"}},o.a.createElement(M.a,null,o.a.createElement("h2",{className:"color-dark"},"Your Transactions")),this.renderItems())}}]),t}(n.Component),X=Object(m.b)((function(e){return{User:e.Auth,Modal:e.Modal}}),{GiveNotif:v,RemoveNotif:b})($),Z=a(467),ee=a(473),te=a(470),ae=a(466),ne=function(e){function t(){var e,a;Object(w.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(S.a)(this,(e=Object(N.a)(t)).call.apply(e,[this].concat(r)))).state={products:[],categories:[],addproduct:{name:"",image:"",stok:"",kategoriId:1,harga:"",deskripsi:"",rating:"",sold:""},editproduct:{name:"",image:"",stok:"",kategoriId:"",harga:"",deskripsi:"",rating:"",sold:""},modalAdd:!1,modalDelete:!1,iddelete:-1,idedit:-1,erraddmsg:"",erreditmsg:"",tnc:!1},a.reloadProduct=function(){var e={name:"",image:"",stok:"",kategoriId:1,harga:"",deskripsi:"",rating:"",sold:""};d.a.get("".concat(x,"/products?_expand=kategori")).then((function(t){a.setState({products:t.data,addproduct:e,editproduct:e,modalAdd:!1,modalDelete:!1,iddelete:-1,idedit:-1,erraddmsg:"",erreditmsg:"",tnc:!1})})).catch((function(e){console.log(e)}))},a.defaultMode=function(){var e={name:"",image:"",stok:"",kategoriId:1,harga:"",deskripsi:"",rating:"",sold:""};a.setState({addproduct:e,editproduct:e,modalAdd:!1,modalDelete:!1,iddelete:-1,idedit:-1,erraddmsg:"",erreditmsg:"",tnc:!1})},a.openModalAdd=function(){a.setState({modalAdd:!0})},a.onSubmitProduct=function(){var e=a.state.addproduct,t=e.name,n=e.image,o=e.stok,r=e.kategoriId,c=e.harga,l=e.deskripsi,s=a.state.tnc;t&&n&&o&&r&&c&&l&&s?d.a.post("".concat(x,"/products"),a.state.addproduct).then((function(e){a.setState({modalAdd:!1}),a.props.GiveNotif("Product Added Succesfully"),setTimeout((function(){a.props.RemoveNotif(),a.reloadProduct()}),2e3)})).catch((function(e){console.log(e)})):(a.setState({erraddmsg:"Semua kolom harus diisi"}),t&&n&&o&&r&&c&&l?a.setState({erraddmsg:"Terms and conditions harus disetujui"}):a.setState({erraddmsg:"Semua kolom harus diisi"}))},a.onDeleteProduct=function(){d.a.delete("".concat(x,"/products/").concat(a.state.iddelete)).then((function(e){a.setState({modalDelete:!1}),a.props.GiveNotif("Product is deleted"),setTimeout((function(){a.props.RemoveNotif(),a.reloadProduct()}),2e3)})).catch((function(e){console.log(e)}))},a.onEditProduct=function(){var e=a.state.editproduct,t=e.name,n=e.image,o=e.stok,r=e.kategoriId,c=e.harga,l=e.deskripsi;t&&n&&o&&r&&c&&l?d.a.put("".concat(x,"/products/").concat(a.state.idedit),a.state.editproduct).then((function(e){a.props.GiveNotif("Update Succesful"),setTimeout((function(){a.props.RemoveNotif(),a.reloadProduct()}),2e3)})).catch((function(e){console.log(e)})):(console.log("smua kolom harus diisi"),a.setState({erreditmsg:"Semua kolom harus diisi"}))},a.handleInput=function(e){a.setState({addproduct:Object(p.a)({},a.state.addproduct,Object(u.a)({},e.target.name,e.target.value))})},a.handleInputEdit=function(e){a.setState({editproduct:Object(p.a)({},a.state.editproduct,Object(u.a)({},e.target.name,e.target.value))})},a.handleTnC=function(e){a.setState({tnc:!a.state.tnc}),console.log(a.state.tnc)},a.handleDelete=function(e){a.setState({iddelete:e,modalDelete:!0})},a.handleEdit=function(e){a.state.products.forEach((function(t,n){t.id===e&&a.setState({editproduct:t,idedit:e})}))},a.renderCategories=function(){return a.state.categories.map((function(e,t){return{key:e.id,text:e.nama,value:e.nama,name:e.nama}}))},a.handleCategory=function(e){a.state.categories.forEach((function(t,n){t.nama===e.target.textContent&&a.setState({addproduct:Object(p.a)({},a.state.addproduct,{kategoriId:t.id})})}))},a.handelCategoryEdit=function(e){a.state.categories.forEach((function(t,n){t.nama===e.target.textContent&&a.setState({editproduct:Object(p.a)({},a.state.editproduct,{kategoriId:t.id})})}))},a.renderProducts=function(){return a.state.products.map((function(e,t){return e.id===a.state.idedit?o.a.createElement(A.a.Row,{key:t,style:{margin:"10px 0"},className:"ui segment"},o.a.createElement(A.a.Column,{width:1},t+1),o.a.createElement(A.a.Column,{width:2},o.a.createElement(f.a,{value:a.state.editproduct.name,name:"name",onChange:a.handleInputEdit,placeholder:e.name,fluid:!0})),o.a.createElement(A.a.Column,{width:3},o.a.createElement(f.a,{value:a.state.editproduct.image,name:"image",onChange:a.handleInputEdit,placeholder:e.image,fluid:!0}),o.a.createElement(h.a,{style:{marginTop:"10px"},src:a.state.editproduct.image?a.state.editproduct.image:e.image})),o.a.createElement(A.a.Column,{width:1},o.a.createElement(f.a,{value:a.state.editproduct.stok,name:"stok",onChange:a.handleInputEdit,placeholder:e.stok,fluid:!0})),o.a.createElement(A.a.Column,{width:2},o.a.createElement(Z.a,{fluid:!0,options:a.renderCategories(),placeholder:e.kategori.nama,onChange:a.handelCategoryEdit})),o.a.createElement(A.a.Column,{width:2},o.a.createElement(f.a,{value:a.state.editproduct.harga,name:"harga",onChange:a.handleInputEdit,placeholder:e.harga,fluid:!0})),o.a.createElement(A.a.Column,{width:2},o.a.createElement(f.a,{value:a.state.editproduct.deskripsi,name:"deskripsi",onChange:a.handleInputEdit,placeholder:e.deskripsi,fluid:!0})),o.a.createElement(A.a.Column,{width:1},o.a.createElement(ee.a,null,o.a.createElement(ee.a.Item,null,o.a.createElement(O.a,{style:{margin:"10px 3px 0 0",verticalAlign:".5px"},color:"yellow",name:"star"}),e.rating),o.a.createElement(ee.a.Item,{style:{marginTop:"10px"}},"Sold",o.a.createElement(j.a,{size:"large"},e.sold)))),o.a.createElement(A.a.Column,{width:2},o.a.createElement(E.a,{onClick:a.onEditProduct,style:{marginBottom:"1em"},icon:!0,labelPosition:"left"},o.a.createElement(O.a,{name:"save outline"}),"Submit"),o.a.createElement(E.a,{onClick:a.defaultMode,icon:!0,labelPosition:"left"},o.a.createElement(O.a,{name:"delete"}),"Cancel"),o.a.createElement(M.a,{style:{color:"red",paddingTop:"10px",border:"unset",boxShadow:"unset",padding:"0"}},a.state.erreditmsg?a.state.erreditmsg:null))):o.a.createElement(A.a.Row,{key:t,style:{margin:"10px 0"},className:"ui segment"},o.a.createElement(A.a.Column,{width:1},t+1),o.a.createElement(A.a.Column,{width:2},e.name),o.a.createElement(A.a.Column,{width:3},o.a.createElement(h.a,{src:e.image})),o.a.createElement(A.a.Column,{width:1},e.stok),o.a.createElement(A.a.Column,{width:2},e.kategori.nama),o.a.createElement(A.a.Column,{width:2},"Rp",e.harga,".00"),o.a.createElement(A.a.Column,{width:2},e.deskripsi),o.a.createElement(A.a.Column,{width:1},o.a.createElement(ee.a,null,o.a.createElement(ee.a.Item,null,o.a.createElement(O.a,{style:{margin:"10px 3px 0 0",verticalAlign:".5px"},color:"yellow",name:"star"}),e.rating),o.a.createElement(ee.a.Item,{style:{marginTop:"10px"}},"Sold",o.a.createElement(j.a,{size:"large"},e.sold)))),o.a.createElement(A.a.Column,{width:2},o.a.createElement(E.a,{onClick:function(){a.handleEdit(e.id)},style:{marginBottom:"1em"},icon:!0,labelPosition:"left"},o.a.createElement(O.a,{name:"edit outline"}),"Edit"),o.a.createElement(E.a,{onClick:function(){a.handleDelete(e.id)},icon:!0,labelPosition:"left"},o.a.createElement(O.a,{name:"delete"}),"Delete")))}))},a}return Object(I.a)(t,e),Object(C.a)(t,[{key:"componentDidMount",value:function(){var e=this;d.a.get("".concat(x,"/products?_expand=kategori")).then((function(t){d.a.get("".concat(x,"/kategoris")).then((function(a){e.setState({products:t.data,categories:a.data})})).catch((function(e){console.log(e)}))})).catch((function(e){console.log(e)}))}},{key:"render",value:function(){var e=this;return"admin"===this.props.User.role?o.a.createElement(T.a,{style:{paddingTop:"30px"}},o.a.createElement(P.a,{as:"h1"},"Manage Products"),o.a.createElement(A.a,{style:{fontSize:"12px"},divided:!0},o.a.createElement(A.a.Row,{className:"ui segment",style:{fontSize:"15px",fontWeight:"bold",margin:"10px 0"}},o.a.createElement(A.a.Column,{width:1},"No."),o.a.createElement(A.a.Column,{width:2},"Name"),o.a.createElement(A.a.Column,{width:3},"Image"),o.a.createElement(A.a.Column,{width:1},"Stok"),o.a.createElement(A.a.Column,{width:2},"Kategori"),o.a.createElement(A.a.Column,{width:2},"Harga"),o.a.createElement(A.a.Column,{width:2},"Deskripsi"),o.a.createElement(A.a.Column,{width:1},"Data"),o.a.createElement(A.a.Column,{width:2},"Action")),this.renderProducts()),o.a.createElement(te.a,{open:this.state.modalAdd,trigger:o.a.createElement(E.a,{className:"bg-sign bg-sign-hvr",style:{position:"fixed",right:"10%",bottom:"10%"},content:"Add Product",icon:"add",labelPosition:"left",onClick:this.openModalAdd}),basic:!0,size:"small"},o.a.createElement(te.a.Content,null,o.a.createElement(A.a,{columns:2},o.a.createElement(A.a.Column,null,o.a.createElement(P.a,{style:{color:"white"},icon:{name:"list ul"},content:"Preview"}),o.a.createElement(F.a.Group,{style:{padding:"0vh 0 0 0"},divided:!0},o.a.createElement(F.a,null,this.state.addproduct.image?o.a.createElement(F.a.Image,{className:"a",style:{margin:"0 20px 0 0",border:"0px solid black",overflow:"hidden"},src:this.state.addproduct.image}):null),o.a.createElement(F.a,null,o.a.createElement(F.a.Content,null,this.state.addproduct.name?o.a.createElement(F.a.Header,{style:{color:"white"},as:"a"},this.state.addproduct.name):null,o.a.createElement(F.a.Meta,null),this.state.addproduct.deskripsi?o.a.createElement(F.a.Description,{style:{color:"white"}},this.state.addproduct.deskripsi):null,o.a.createElement(F.a.Extra,null,this.state.addproduct.stok?o.a.createElement(j.a,null,"Stok ",this.state.addproduct.stok):null),o.a.createElement(F.a.Extra,null,o.a.createElement(E.a,{as:"div",labelPosition:"left"},o.a.createElement(j.a,{className:"color-sign-hvr",as:"a",basic:!0,pointing:"right"},"2,048"),o.a.createElement(E.a,{className:"color-sign-hvr",icon:!0},o.a.createElement(O.a,{name:"heart"}),"Like"))),o.a.createElement(F.a.Extra,{style:{color:"white"}},this.state.addproduct.harga?o.a.createElement("span",null,"Rp",this.state.addproduct.harga,".00"):null),o.a.createElement(F.a.Extra,{className:"product-detail-des"}))))),o.a.createElement(A.a.Column,null,o.a.createElement(P.a,{style:{color:"white"},icon:"list alternate outline",content:"Add product details"}),o.a.createElement(q.a,{style:{margin:"0 0 20px 0",color:"white"}},o.a.createElement(q.a.Field,null,o.a.createElement("label",{style:{color:"white"}},"Name"),o.a.createElement("input",{value:this.state.addproduct.name,name:"name",onChange:this.handleInput,placeholder:"Name"})),o.a.createElement(q.a.Field,null,o.a.createElement("label",{style:{color:"white"}},"Image"),o.a.createElement("input",{value:this.state.addproduct.image,name:"image",onChange:this.handleInput,placeholder:"Image source"})),o.a.createElement(q.a.Group,{widths:"equal"},o.a.createElement(q.a.Input,{fluid:!0,label:o.a.createElement("label",{style:{color:"white"}},"Stok"),placeholder:"Stok",onChange:this.handleInput,name:"stok",value:this.state.addproduct.stok}),o.a.createElement(q.a.Select,{fluid:!0,label:o.a.createElement("label",{style:{color:"white"}},"Kategori"),options:this.renderCategories(),placeholder:"Kategori",onChange:this.handleCategory})),o.a.createElement(q.a.Field,null,o.a.createElement("label",{style:{color:"white"}},"Harga"),o.a.createElement("input",{value:this.state.addproduct.harga,name:"harga",onChange:this.handleInput,placeholder:"Harga"})),o.a.createElement(q.a.Field,null,o.a.createElement(q.a.TextArea,{label:o.a.createElement("label",{style:{color:"white"}},"Description"),placeholder:"Product description...",onChange:this.handleInput,name:"deskripsi",value:this.state.addproduct.deskripsi})),o.a.createElement(q.a.Field,null,o.a.createElement(ae.a,{checked:this.state.tnc,name:"tnc",onChange:this.handleTnC,label:o.a.createElement("label",{style:{color:"white"}},"I Agree to the Terms and Conditions")}))),o.a.createElement(te.a.Actions,null,o.a.createElement(E.a,{onClick:this.defaultMode,basic:!0,color:"red",inverted:!0},o.a.createElement(O.a,{name:"remove"})," Cancel"),o.a.createElement(E.a,{onClick:this.onSubmitProduct,color:"green",inverted:!0},o.a.createElement(O.a,{name:"checkmark"})," Submit")),o.a.createElement(j.a,{basic:!0,style:{marginTop:"0px",color:"orange",fontWeigth:"lighter",background:"unset"},as:"h4"},this.state.erraddmsg?this.state.erraddmsg:null))))),o.a.createElement(te.a,{open:this.state.modalDelete,basic:!0,size:"small"},o.a.createElement(te.a.Content,null,o.a.createElement(P.a,{style:{color:"white"},content:"Are you sure?"}),o.a.createElement(te.a.Actions,null,o.a.createElement(E.a,{onClick:this.defaultMode,basic:!0,color:"red",inverted:!0},o.a.createElement(O.a,{name:"remove"})," Cancel"),o.a.createElement(E.a,{onClick:this.onDeleteProduct,color:"green",inverted:!0},o.a.createElement(O.a,{name:"checkmark"})," Yes"))))):this.props.Modal.isOpen?null:(this.props.GiveNotif("Admin access is declined"),console.log(this.props.User.role),console.log("no access"),setTimeout((function(){e.props.RemoveNotif()}),2e3),o.a.createElement(s.a,{to:"/"}))}}]),t}(n.Component),oe=Object(m.b)((function(e){return{User:e.Auth,Modal:e.Modal}}),{GiveNotif:v,RemoveNotif:b})(ne),re=function(e){function t(){var e,a;Object(w.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(S.a)(this,(e=Object(N.a)(t)).call.apply(e,[this].concat(r)))).state={transactions:[]},a.reloadItems=function(){d.a.get("".concat(x,"/transactions")).then((function(e){e.data.reverse();var t=[];e.data.forEach((function(e,n){d.a.get("".concat(x,"/transactiondetails?_expand=product&&transactionId=").concat(e.id)).then((function(o){t[n]=o.data,t[n]={details:o.data,transactionId:e.id,method:e.method,status:e.status},a.setState({transactions:t})})).catch((function(e){console.log(e)})).finally((function(){})),console.log(t)}))})).catch((function(e){console.log(e)}))},a.onComplete=function(e){console.log(e),d.a.patch("".concat(x,"/transactions/").concat(e),{status:"completed"}).then((function(e){a.reloadItems(),a.props.GiveNotif("Transaction is completed"),setTimeout((function(){a.props.RemoveNotif()}),2e3)})).catch((function(e){console.log(e)}))},a.renderItems=function(){return a.state.transactions.map((function(e,t){return o.a.createElement(M.a,{key:t,className:"cart-product"},o.a.createElement(P.a,{className:"color-dark",style:{fontSize:"21px"},block:!0},"Transaction ",e.transactionId,o.a.createElement("span",{style:{margin:"0 14px",color:"rgba(0,0,0,.7)",fontSize:"18px",fontWeight:"100"}},e.method),o.a.createElement(j.a,{style:{float:"unset",fontSize:"15px",margin:"auto"},className:"completed"===e.status?"color-sign":"color-sign-sec"},o.a.createElement(O.a,{name:"tag"}),e.status),"onprocess"===e.status?o.a.createElement(E.a,{onClick:function(){a.onComplete(e.transactionId)},style:{float:"right"},className:"bg-sign bg-sign-hvr"},"Complete Transaction"):null),e.details.map((function(e,t){return o.a.createElement("div",{key:e.id,style:{display:"flex",justifyContent:"space-between",marginBottom:"14px",borderBottom:"1px solid rgb(0,0,0,.15)",paddingBottom:"10px"}},o.a.createElement("div",{style:{flex:"0 0 60%"}},o.a.createElement(F.a.Group,{divided:!0},o.a.createElement(F.a,{style:{padding:"0 0px"}},o.a.createElement(F.a.Image,{style:{width:"250px",height:"auto",margin:"0 0px 0 0",padding:"10px",border:"0px solid black",overflow:"hidden"},src:e.product.image}),o.a.createElement(F.a.Content,null,o.a.createElement(F.a.Header,{style:{color:"rgba(0,0,0,.8)"},as:"a"},e.product.name),o.a.createElement(F.a.Description,{style:{color:"rgba(0,0,0,.6)",marginBottom:"14px"}},e.product.deskripsi),o.a.createElement(F.a.Extra,{style:{width:"70%"}},"Items ",o.a.createElement("span",{style:{color:"rgb(0,0,0,.87)",float:"right"}},"(",e.qty,")")),o.a.createElement(F.a.Extra,{style:{width:"70%"}},"Harga Product ",o.a.createElement("span",{style:{float:"right"},className:"color-sign-sec"},"Rp",U()(e.product.harga).format(0))))))),o.a.createElement("div",{style:{flex:"0 0 20",alignItems:"center"}}),o.a.createElement(K.a,{section:!0}))})))}))},a}return Object(I.a)(t,e),Object(C.a)(t,[{key:"componentDidMount",value:function(){this.reloadItems()}},{key:"render",value:function(){var e=this;return"admin"===this.props.User.role?o.a.createElement("div",{style:{padding:"50px 10vw 0 10vw"}},o.a.createElement(M.a,null,o.a.createElement("h2",{className:"color-dark"},"Manage Transactions")),this.renderItems()):this.props.Modal.isOpen?null:(this.props.GiveNotif("Admin access is declined"),console.log(this.props.User.role),console.log("no access"),setTimeout((function(){e.props.RemoveNotif()}),2e3),o.a.createElement(s.a,{to:"/"}))}}]),t}(n.Component),ce=Object(m.b)((function(e){return{User:e.Auth,Modal:e.Modal}}),{GiveNotif:v,RemoveNotif:b})(re),le=Object(m.b)((function(e){return{Modal:e.Modal}}),{RemoveNotif:b})((function(e){return o.a.createElement(E.a,{className:"test",style:{justifyContent:"center"},onClick:e.RemoveNotif},o.a.createElement(te.a,{style:{width:"auto",textAlign:"center"},open:!0,basic:!0,size:"small"},o.a.createElement(ee.a,{style:{fontSize:"18px"}},o.a.createElement(O.a,{name:"checkmark"}),e.Modal.message),o.a.createElement(E.a,{style:{fontWeight:100},size:"medium",onClick:e.RemoveNotif,basic:!0,inverted:!0},"Ok")))}));var se=Object(m.b)((function(e){return{Modal:e.Modal}}),{LoginSuccess:y})((function(e){var t=Object(n.useState)(!0),a=Object(l.a)(t,2),r=a[0],c=a[1];return Object(n.useEffect)((function(){var t=localStorage.getItem("iduser");t?d.a.get("".concat(x,"/users/").concat(t)).then((function(t){e.LoginSuccess(t.data)})).catch((function(e){console.log(e)})).finally((function(){c(!1)})):c(!1),document.title="E-Commerce Indo"}),[]),r?o.a.createElement("div",null,o.a.createElement(B,null)):o.a.createElement("div",null,o.a.createElement(B,null),o.a.createElement("div",{style:{paddingTop:"56px",position:"relative"}},o.a.createElement(s.d,null,o.a.createElement(s.b,{path:"/login",exact:!0,component:k}),o.a.createElement(s.b,{path:"/",exact:!0,component:R}),o.a.createElement(s.b,{path:"/search/:keyword",exact:!0,component:_}),o.a.createElement(s.b,{path:"/search*",component:_}),o.a.createElement(s.b,{path:"/productdetails/:productid",exact:!0,component:W}),o.a.createElement(s.b,{path:"/cart",exact:!0,component:Y}),o.a.createElement(s.b,{path:"/transactions",exact:!0,component:X}),o.a.createElement(s.b,{path:"/manageproducts",exact:!0,component:oe}),o.a.createElement(s.b,{path:"/managetransactions",exact:!0,component:ce})),e.Modal.isOpen?o.a.createElement(le,null):null))})),ie=a(77),de={username:"",id:0,isLogin:!1,role:"",errmes:""},me=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:de,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"LOGIN_FAILED":return Object(p.a)({},e,{errmes:t.payload});case"LOGIN_SUCCESS":return Object(p.a)({},e,{},t.payload,{isLogin:!0,errmes:""});case"LOGOUT":return de;default:return e}},ue={isOpen:!1,message:""},pe=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ue,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"NOTIF_ON":return Object(p.a)({},e,{isOpen:!0,message:t.payload});case"NOTIF_OFF":return Object(p.a)({},e,{isOpen:!1,message:""});default:return e}},he={totalItems:0},ge=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:he,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ITEMS":return Object(p.a)({},e,{totalItems:t.payload});default:return e}},fe=Object(ie.b)({Auth:me,Modal:pe,Data:ge});Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var Ee=Object(ie.c)(fe);c.a.render(o.a.createElement(m.a,{store:Ee},o.a.createElement(z.a,null,o.a.createElement(se,null))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[268,1,2]]]);
//# sourceMappingURL=main.3215d042.chunk.js.map